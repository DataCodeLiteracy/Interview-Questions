# 왜 state를 직접 변경하지 않고, useState를 사용해야 하나요?

리액트는 컴포넌트의 루트에서 시작하여 아래로 훑어보면서 업데이트가 필요한 컴포넌트를 찾습니다. 이때 업데이트가 필요한 컴포넌트는 리렌더링된 결과물을 저장합니다. 그리고 가상 DOM과 비교하고 계산하는 과정을 거쳐 변경된 부분만을 실제 DOM에 적용합니다. 이 과정에서 리액트는 이전 상태값과 현재 상태값을 비교하여 전체를 다시 렌더링하지 않고 변경이 감지된 일부 DOM만을 효율적으로 업데이트합니다.

리액트에서 주로 사용하는 상태 관리 방식 중 하나는 useState 훅입니다. useState는 함수형 컴포넌트에서 상태를 관리하기 위해 제공되는 메커니즘입니다. useState 훅을 사용하면 컴포넌트의 상태를 간단하게 선언하고 업데이트할 수 있습니다. 이때 useState는 리액트에게 상태 변경을 추적하기 위한 정보를 제공하여 가상 DOM의 재조정 과정에서 변경된 부분을 식별할 수 있게 합니다.

반면에 querySelector를 사용하여 직접 state를 변경해서 DOM을 조작하는 방식은 리액트의 상태 관리 메커니즘을 우회하는 것이며, 리액트의 가상 DOM과 상호작용하지 않습니다. 이렇게 직접 DOM을 조작하는 방식은 리액트의 장점을 활용할 수 없습니다.

또한, useState를 사용하는 것은 리액트 생태계의 일관성과 호환성을 유지하는 데 도움이 됩니다. 대부분의 리액트 개발자들은 useState 훅을 사용하고 있으며, 라이브러리나 오픈 소스 프로젝트에서도 useState를 사용하는 것이 일반적입니다. 따라서 useState를 사용하면 코드의 일관성을 유지하고 다른 개발자들과의 협업이 원활해집니다.

또한, useState를 호출하는 컴포넌트에서는 종속되어 있는 하위 컴포넌트들도 모두 리렌더링될 수 있습니다. 따라서 성능상의 문제가 될 수 있으므로, 필요한 곳에 적절하게 useState를 사용하여 최적화된 리렌더링을 수행해야 합니다.
